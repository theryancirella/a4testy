{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Ryan\\\\Desktop\\\\a4\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\Users\\\\Ryan\\\\Desktop\\\\a4\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"C:\\\\Users\\\\Ryan\\\\Desktop\\\\a4\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Ryan\\\\Desktop\\\\a4\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Ryan\\\\Desktop\\\\a4\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Ryan\\\\Desktop\\\\a4\\\\my-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import'./App.css';var Itemlist=/*#__PURE__*/function(_Component){_inherits(Itemlist,_Component);var _super=_createSuper(Itemlist);function Itemlist(props){var _this;_classCallCheck(this,Itemlist);_this=_super.call(this,props);_this.state={items:[]};return _this;}_createClass(Itemlist,[{key:\"getItems\",value:function(){var _getItems=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _this2=this;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:fetch('/items').then(function(res){return res.json();}).then(function(items){return _this2.setState({items:items});});case 1:case\"end\":return _context.stop();}}},_callee);}));function getItems(){return _getItems.apply(this,arguments);}return getItems;}()},{key:\"componentDidMount\",value:function componentDidMount(){var _this3=this;fetch('/items').then(function(res){return res.json();}).then(function(items){return _this3.setState({items:items});});}},{key:\"addItem\",value:function(){var _addItem=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var _this4=this;var userText,newItem;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:userText=document.getElementById(\"userInput\");newItem=userText.value;//let user = \"testuser\"; //this will be the user's username\nfetch(\"/addItem\",{method:\"POST\",body:JSON.stringify({dream:newItem}),headers:{\"Content-Type\":\"application/json\"}}).then(function(response){return response.json();}).then(function(res){return _this4.getItems();});// reset form\nuserText.value=\"\";this.getItems();case 5:case\"end\":return _context2.stop();}}},_callee2,this);}));function addItem(_x){return _addItem.apply(this,arguments);}return addItem;}()},{key:\"modifyItem\",value:function(){var _modifyItem=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(item){var userText;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:console.log(item);userText=document.getElementById(\"userInput\");if(userText.value===\"\"){this.deleteItem(item._id);}else{this.editItem(item._id);}this.getItems();case 4:case\"end\":return _context3.stop();}}},_callee3,this);}));function modifyItem(_x2){return _modifyItem.apply(this,arguments);}return modifyItem;}()},{key:\"editItem\",value:function(){var _editItem=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(id){var _this5=this;var userText,newEdit;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:userText=document.getElementById(\"userInput\");newEdit=userText.value;fetch(\"/edit\",{method:\"POST\",body:JSON.stringify({dream:newEdit,id:id}),headers:{\"Content-Type\":\"application/json\"}}).then(function(response){return response.json();}).then(function(json){return _this5.getItems();});this.getItems();case 4:case\"end\":return _context4.stop();}}},_callee4,this);}));function editItem(_x3){return _editItem.apply(this,arguments);}return editItem;}()},{key:\"deleteItem\",value:function(){var _deleteItem=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id){var _this6=this;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:fetch(\"/delete\",{method:\"POST\",body:JSON.stringify({id:id}),headers:{\"Content-Type\":\"application/json\"}}).then(function(response){return response.json();}).then(function(json){return _this6.getItems();});this.getItems();case 2:case\"end\":return _context5.stop();}}},_callee5,this);}));function deleteItem(_x4){return _deleteItem.apply(this,arguments);}return deleteItem;}()},{key:\"logoutButton\",value:function logoutButton(){var userText=document.getElementById(\"userInput\");fetch(\"/logout\",{method:\"POST\",body:JSON.stringify({logout:userText.value}),headers:{\"Content-Type\":\"application/json\"}}).then(function(response){return response.json();});}//{this.state.items.map(item => <div key={item._id}>{item.dream}</div>)}\n},{key:\"render\",value:function render(){var _this7=this;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"body\",null,/*#__PURE__*/React.createElement(\"header\",null,/*#__PURE__*/React.createElement(\"h1\",null,\"Virtual Shopping List\")),/*#__PURE__*/React.createElement(\"main\",null,/*#__PURE__*/React.createElement(\"label\",null,\"New Grocery Item\",/*#__PURE__*/React.createElement(\"input\",{name:\"dream\",type:\"text\",id:\"userInput\",maxlength:\"100\",required:true,placeholder:\"Type item here!\"})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",id:\"submit-dream\",onClick:function onClick(e){return _this7.addItem(e);}},\"Add Item\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"section\",{class:\"dreams\"},/*#__PURE__*/React.createElement(\"ul\",{id:\"dreams\"},this.state.items.map(function(item){return/*#__PURE__*/React.createElement(\"li\",{key:item._id,onClick:function onClick(e){return _this7.modifyItem(item);}},item.dream);}))),\"To edit item, enter replacement value in item box and click the list item to edit.\",/*#__PURE__*/React.createElement(\"br\",null),\"To remove item, click a list item to remove with nothing in the item input box.\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"button\",{id:\"logout\",onClick:function onClick(e){return _this7.logoutButton();}},\"Logout\"))));}}]);return Itemlist;}(Component);export default Itemlist;","map":{"version":3,"sources":["C:/Users/Ryan/Desktop/a4/my-app/src/Itemlist.js"],"names":["React","Component","Itemlist","props","state","items","fetch","then","res","json","setState","e","userText","document","getElementById","newItem","value","method","body","JSON","stringify","dream","headers","response","getItems","item","console","log","deleteItem","_id","editItem","id","newEdit","logout","addItem","map","modifyItem","logoutButton"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './App.css';\r\n\r\nclass Itemlist extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n\r\n        this.state = {\r\n            items: []\r\n        }\r\n    }\r\n\r\n    async getItems() {\r\n        fetch('/items')\r\n            .then(res => res.json())\r\n            .then(items => this.setState({ items: items }));\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch('/items')\r\n            .then(res => res.json())\r\n            .then(items => this.setState({ items }));\r\n    }\r\n\r\n    async addItem(e) {\r\n        const userText = document.getElementById(\"userInput\")\r\n        let newItem = userText.value;\r\n        //let user = \"testuser\"; //this will be the user's username\r\n\r\n        fetch(\"/addItem\", {\r\n            method: \"POST\",\r\n            body: JSON.stringify({ dream: newItem }),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n            .then(response => response.json())\r\n            .then(res => this.getItems())\r\n        // reset form\r\n        userText.value = \"\";\r\n        this.getItems()\r\n    }\r\n\r\n    async modifyItem(item) {\r\n        console.log(item)\r\n        const userText = document.getElementById(\"userInput\")\r\n        if (userText.value === \"\") {\r\n            this.deleteItem(item._id);\r\n        }\r\n        else {\r\n            this.editItem(item._id);\r\n        }\r\n        this.getItems()\r\n    }\r\n\r\n    async editItem(id) {\r\n        const userText = document.getElementById(\"userInput\")\r\n        let newEdit = userText.value;\r\n\r\n        fetch(\"/edit\", {\r\n            method: \"POST\",\r\n            body: JSON.stringify({ dream: newEdit, id }),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n            .then(response => response.json())\r\n            .then(json => this.getItems());\r\n        this.getItems()\r\n    }\r\n\r\n    async deleteItem(id) {\r\n        fetch(\"/delete\", {\r\n            method: \"POST\",\r\n            body: JSON.stringify({ id }),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n            .then(response => response.json())\r\n            .then(json => this.getItems());\r\n        this.getItems()\r\n    }\r\n\r\n    logoutButton() {\r\n        const userText = document.getElementById(\"userInput\")\r\n        fetch(\"/logout\", {\r\n            method: \"POST\",\r\n            body: JSON.stringify({ logout: userText.value }),\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n            .then(response => response.json())\r\n    }\r\n\r\n    //{this.state.items.map(item => <div key={item._id}>{item.dream}</div>)}\r\n    render() {\r\n        return (\r\n            <div>\r\n                <body>\r\n                    <header>\r\n                        <h1>Virtual Shopping List</h1>\r\n                    </header>\r\n                    <main>\r\n                        <label>\r\n                            New Grocery Item\r\n                                <input\r\n                                name=\"dream\"\r\n                                type=\"text\"\r\n                                id=\"userInput\"\r\n                                maxlength=\"100\"\r\n                                required\r\n                                placeholder=\"Type item here!\"\r\n                            />\r\n                        </label>\r\n                        <button type=\"submit\" id=\"submit-dream\" onClick={e => this.addItem(e)}>Add Item</button><br /><br />\r\n\r\n                        <section class=\"dreams\">\r\n                            <ul id=\"dreams\">\r\n                                {this.state.items.map(item => {\r\n                                    return <li key={item._id} onClick={e => this.modifyItem(item)}>{item.dream}</li>\r\n                                }\r\n                                )}\r\n                            </ul>\r\n                        </section>\r\n\r\n                            To edit item, enter replacement value in item box and click the list item to edit.<br />\r\n                            To remove item, click a list item to remove with nothing in the item input box.<br /><br />\r\n\r\n                        <button id=\"logout\" onClick={e => this.logoutButton()}>Logout</button>\r\n                    </main>\r\n                </body>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Itemlist"]},"metadata":{},"sourceType":"module"}